

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="python3" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="python3" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>autodse.evaluator.analyzer &mdash; autodse beta documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="autodse.evaluator.evaluator" href="evaluator.html" />
    <link rel="prev" title="Evaluator" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> autodse
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/index.html">Developer Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../main.html">Main</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config.html">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parameter.html">Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../result.html">Result</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reporter.html">Reporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util.html">Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dsproc.html">DSProc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Database</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Evaluator</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">autodse.evaluator.analyzer</a></li>
<li class="toctree-l3"><a class="reference internal" href="evaluator.html">autodse.evaluator.evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html">autodse.evaluator.scheduler</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../explorer/index.html">Explorer</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">autodse</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">API Reference</a> &raquo;</li>
        
          <li><a href="index.html">Evaluator</a> &raquo;</li>
        
      <li>autodse.evaluator.analyzer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/evaluator/analyzer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-autodse.evaluator.analyzer">
<span id="autodse-evaluator-analyzer"></span><h1>autodse.evaluator.analyzer<a class="headerlink" href="#module-autodse.evaluator.analyzer" title="Permalink to this headline">¶</a></h1>
<p>The main module of analyzer.</p>
<dl class="class">
<dt id="autodse.evaluator.analyzer.Analyzer">
<em class="property">class </em><code class="descclassname">autodse.evaluator.analyzer.</code><code class="descname">Analyzer</code><a class="headerlink" href="#autodse.evaluator.analyzer.Analyzer" title="Permalink to this definition">¶</a></dt>
<dd><p>Base static class of analyzer.</p>
<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.Analyzer.analyze">
<em class="property">static </em><code class="descname">analyze</code><span class="sig-paren">(</span><em>job: autodse.result.Job, mode: str, config: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; Optional[autodse.result.Result]<a class="headerlink" href="#autodse.evaluator.analyzer.Analyzer.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the job result and return a result object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> -- The job to be analyzed.</p></li>
<li><p><strong>mode</strong> -- The customized mode for analysis.</p></li>
<li><p><strong>config</strong> -- The DSE configure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The analysis result.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.Analyzer.desire">
<em class="property">static </em><code class="descname">desire</code><span class="sig-paren">(</span><em>mode: str</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="headerlink" href="#autodse.evaluator.analyzer.Analyzer.desire" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of desired file name wildcards we want to keep after the evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> -- The customized mode for analysis.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of desired file name wildcards for analysis.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.Analyzer.get_analyzer_logger">
<em class="property">static </em><code class="descname">get_analyzer_logger</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; logging.Logger<a class="headerlink" href="#autodse.evaluator.analyzer.Analyzer.get_analyzer_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach the analyzer logger</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer">
<em class="property">class </em><code class="descclassname">autodse.evaluator.analyzer.</code><code class="descname">MerlinAnalyzer</code><a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer" title="Permalink to this definition">¶</a></dt>
<dd><p>&quot;The analyzer especially for Merlin projects</p>
<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze">
<em class="property">static </em><code class="descname">analyze</code><span class="sig-paren">(</span><em>job: autodse.result.Job, mode: str, config: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; Optional[autodse.result.Result]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the job result and return a result object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> -- The job to be analyzed.</p></li>
<li><p><strong>mode</strong> -- The customized mode for analysis.</p></li>
<li><p><strong>config</strong> -- The DSE configure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The analysis result.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze_hotspot">
<em class="property">static </em><code class="descname">analyze_hotspot</code><span class="sig-paren">(</span><em>hier_path: str</em>, <em>rpt_path: str</em><span class="sig-paren">)</span> &#x2192; List[List[autodse.result.HierPathNode]]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze_hotspot" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze all critical hierarchy paths in the kernel using Merlin report.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hier_path</strong> -- The path to the hierarhcy JSON file generated by Merlin.</p></li>
<li><p><strong>rpt_path</strong> -- The path to the perf_est JSON file generated by Merlin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of hierarchy paths ordered by their latencies.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_bitgen">
<em class="property">static </em><code class="descname">analyze_merlin_bitgen</code><span class="sig-paren">(</span><em>job: autodse.result.Job</em><span class="sig-paren">)</span> &#x2192; Optional[autodse.result.BitgenResult]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_bitgen" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the Merlin bitgen result for QoR.</p>
<p>Since we do not perform onboard execution, we cannot get the actual runtime
(we should use cycle emulation to get the accurate cycle number in the future).
Currently we still rely on the HLS cycle as the performance metric as the HLS result,
but add frequency consideration to the quality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job</strong> -- The job to be analyzed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The analysis result.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_hls">
<em class="property">static </em><code class="descname">analyze_merlin_hls</code><span class="sig-paren">(</span><em>job: autodse.result.Job, config: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; Optional[autodse.result.HLSResult]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_hls" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the Merlin HLS result for QoR and performance bottleneck.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job</strong> -- The job to be analyzed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The analysis result.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_log">
<em class="property">static </em><code class="descname">analyze_merlin_log</code><span class="sig-paren">(</span><em>job: autodse.result.Job</em>, <em>success_msg</em><span class="sig-paren">)</span> &#x2192; Tuple[bool, float]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze merlin.log to check if Merlin flow encounters any issues.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> -- The job to be analyzed.</p></li>
<li><p><strong>success_msg</strong> -- A string in the log file to indicate the flow was success.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Indicate if the flow was success and the total runtime if success.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_transform">
<em class="property">static </em><code class="descname">analyze_merlin_transform</code><span class="sig-paren">(</span><em>job: autodse.result.Job</em><span class="sig-paren">)</span> &#x2192; Optional[autodse.result.MerlinResult]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze_merlin_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the Merlin transformation result and fetch critical messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job</strong> -- The job to be analyzed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The analysis result.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.analyze_scope">
<em class="property">static </em><code class="descname">analyze_scope</code><span class="sig-paren">(</span><em>job: autodse.result.Job, auto_map: Dict[str, List[str]]</em><span class="sig-paren">)</span> &#x2192; Optional[Dict[str, List[str]]]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.analyze_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the corresponding scope to each design parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> -- The job of the Merlin project with no design point applied after HLS.</p></li>
<li><p><strong>auto_map</strong> -- A map that maps source code filename:line to a list of design parameter IDs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The scope map that maps design parameter ID to its scope.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.build_scope_map">
<em class="property">static </em><code class="descname">build_scope_map</code><span class="sig-paren">(</span><em>hier: Union[Dict[str, Any], List[Any]], auto_map: Dict[str, List[str]], scope_map: Dict[str, List[str]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.build_scope_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Buil a map that maps each auto keyword to the scope in the source code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hier</strong> -- The source code hierarchy generated by Merlin.</p></li>
<li><p><strong>auto_map</strong> -- A map that maps source code filename:line to a list of design parameter IDs.</p></li>
<li><p><strong>scope_map</strong> -- The return scope map that maps design parameter ID to its scope.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.desire">
<em class="property">static </em><code class="descname">desire</code><span class="sig-paren">(</span><em>mode: str</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.desire" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of desired file name wildcards we want to keep after the evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> -- The customized mode for analysis.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of desired file name wildcards for analysis.</p>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="autodse.evaluator.analyzer.MerlinAnalyzer.find_all_hier_paths">
<em class="property">static </em><code class="descname">find_all_hier_paths</code><span class="sig-paren">(</span><em>cycles: Dict[str, Any], sub_funcs: Dict[str, Any], node: Dict[str, Any]</em><span class="sig-paren">)</span> &#x2192; List[List[autodse.result.HierPathNode]]<a class="headerlink" href="#autodse.evaluator.analyzer.MerlinAnalyzer.find_all_hier_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively traverse the kernel hierarchy and generate hierarchy paths.</p>
<p>For each path node we traversed, we retrieve its latency from Merlin HLS report
so that we can analyze the most critical path and node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cycles</strong> -- A dictionary to map scope (e.g., function, loop, etc) to its latency.</p></li>
<li><p><strong>sub_funcs</strong> -- A dictionary to map sub-function names to their hierarchy properties.</p></li>
<li><p><strong>node</strong> -- The node being visited.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of paths sorted by their latencies.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="evaluator.html" class="btn btn-neutral float-right" title="autodse.evaluator.evaluator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Evaluator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Falcon Computing Solutions, Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>